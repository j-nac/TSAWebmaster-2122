{% extends 'base.html' %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/store.css') }}">
{% endblock %}

{% block content %}
<script src="{{ url_for('static', filename='js/store.js') }}"></script>
<div class="container">
    <section class="container my-5">
        <h1>{{ title }}</h1>
        <form action="" method="get">
            <div class="row">
                <div class="col-11">{{ form.search(placeholder_="Search") }}</div>
                <div class="col-1"><input type="submit" value="Search" id="search-button"></div>
            </div>
            <div class="tags-select">
                {% for t in tags %}
                    <input name="tags" id="tag-{{ t.name }}" value="{{ t.name }}" type="checkbox" {% if t.name in selected_tags %} checked {% endif %}>
                    <button>
                        <label for="tag-{{ t.name }}">{{ t.name }}</label>
                    </button>
                {% endfor %}
            </div>
        </form>
        <div class="row grid" id="gallery">
        {% for item in query_results %}
            <div class="card store-card">
                {% if item.image_file %}
                    <img src="{{ url_for('static', filename='img/'+item.image_file) }}" alt="" class="card-img-top">
                {% else %}
                    <img src="{{ url_for('static', filename='img/test-img.png') }}" alt="" class="card-img-top">
                {% endif %}
                <div class="card-body">
                    <h5 class="card-title">{{ item.name }}</h5>
                    <div class="card-text">{{ item.description }}</div>
                    <a href="{{ url_for('item', id=item.id) }}" class="stretched-link"></a>
                </div>
            </div>
        {% endfor %}
        </div>
    </section>
</div>
{% endblock %}